/**
 * hygress build 27-06-2015
 *
 * Copyright 2015 Raoul van Rueschen
 * 
 * This software is provided "as-is", without any express or implied warranty. 
 * In no event will the authors be held liable for any damages arising from the use of this software.
 * 
 * Permission is granted to anyone to use this software for any purpose, 
 * including commercial applications, and to alter it and redistribute it freely, 
 * subject to the following restrictions:
 * 
 * The origin of this software must not be misrepresented; you must not claim that you wrote the original software. 
 * If you use this software in a product, an acknowledgment in the product documentation would be appreciated but is not required.
 * Altered source versions must be plainly marked as such, and must not be misrepresented as being the original software.
 * This notice may not be removed or altered from any source distribution.
 */
!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.Hygress=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function Hygress(a){var b,c;this.animId=0,this.dt=1/60,this.now=Date.now(),this.then=this.now,this.accumulator=0,c=document.createElement("canvas"),c.id="hygress",void 0!==a&&(void 0!==a.htOptions&&(b=a.htOptions),void 0!==a.dt&&(this.dt=a.dt),void 0!==a.size&&(c.width=a.size[0],c.height=a.size[1])),this.ctx=c.getContext("2d"),this.ht=new d(b)}var d=a("./hypotrochoid");Object.defineProperty(Hygress.prototype,"canvas",{get:function(){return this.ctx.canvas}}),Object.defineProperty(Hygress.prototype,"size",{get:function(){return[this.ctx.canvas.width,this.ctx.canvas.height]},set:function(a){var b;void 0!==a&&(b=a[0]<a[1]?a[0]:a[1],this.ctx.canvas.width=a[0],this.ctx.canvas.height=a[1],this.ht.distance=.4*b,this.ht.origin.x=this.ht.origin.y=b>>1)}}),Hygress.prototype.render=function(){this.now=Date.now()/1e3,this.accumulator+=this.now-this.then,this.then=this.now,this.accumulator>=this.dt&&(this.ht.update(),this.accumulator-=this.dt),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ht.draw(this.ctx),this.animId=requestAnimationFrame(this.render)},Hygress.prototype.stop=function(){0!==this.animId&&(cancelAnimationFrame(this.animId),this.ctx.canvas.style.opacity=0,this.ctx.canvas.style.transform="scale(0.0)",this.animId=0)},Hygress.prototype.start=function(){0===this.animId&&(this.ctx.canvas.style.opacity=1,this.ctx.canvas.style.transform="scale(1.0)",this.render())},b.exports=Hygress},{"./hypotrochoid":2}],2:[function(a,b,c){"use strict";function d(a,b){return Math.abs(a-b)<=1e-4}function e(a){this.TWO_PI=2*Math.PI,this.rotation=0,this.theta=0,this.step=360*Math.PI/180,this.hue=0,this.firstCoord={x:0,y:0},this.prevCoord={x:0,y:0},this.innerRadius=.59,this.outerRadius=.2,this.distance=0,this.iterations=16,this.rotationSpeed=.046,this.origin={x:0,y:0},void 0!==a&&(void 0!==a.r&&(this.innerRadius=a.r),void 0!==a.R&&(this.outerRadius=a.R),void 0!==a.d&&(this.distance=a.d),void 0!==a.iterations&&(this.iterations=a.iterations),void 0!==a.rotation&&(this.rotationSpeed=a.rotation),void 0!==a.origin&&(this.origin=a.origin)),this.invInnerRadius=1/this.innerRadius}e.prototype.update=function(){this.hue-=.5,this.hue<=-360&&(this.hue=0),this.rotation-=this.rotationSpeed,Math.abs(this.rotation)>this.TWO_PI&&(this.rotation=0)},e.prototype.draw=function(a){var b,c,e=0,f=0,g=!0;for(a.save(),a.lineWidth=.5,a.lineCap="round",a.globalCompositeOperation="source-over",this.theta=0,this.prevCoord.x=0,b=this.iterations;b>0&&(g||!d(this.firstCoord.x-e)||!d(this.firstCoord.y-f));)a.beginPath(),g&&(g=!1),this.theta+=this.step,c=(this.innerRadius/this.outerRadius-1)*this.theta,e=(this.innerRadius-this.outerRadius)*Math.cos(this.theta)+this.distance*Math.cos(c+this.rotation)+this.origin.x+(this.outerRadius-this.innerRadius),f=(this.innerRadius-this.outerRadius)*Math.sin(this.theta)-this.distance*Math.sin(c+this.rotation)+this.origin.y,this.prevCoord.x?(a.moveTo(this.prevCoord.x,this.prevCoord.y),a.lineTo(e,f)):(this.firstCoord.x=e,this.firstCoord.y=f,g=!0),a.strokeStyle="hsla("+this.hue%360+", 100%, 50%, 0.75)",a.stroke(),this.prevCoord.x=e,this.prevCoord.y=f,--b;a.restore()},b.exports=e},{}]},{},[1])(1)});